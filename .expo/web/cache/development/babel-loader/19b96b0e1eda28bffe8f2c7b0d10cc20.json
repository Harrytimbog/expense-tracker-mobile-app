{"ast":null,"code":"import { useContext, useLayoutEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"../components/UI/Button\";\nimport IconButton from \"../components/UI/IconButton\";\nimport { GlobalStyles } from \"../constants/styles\";\nimport { ExpensesContext } from \"../store/expenses-context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ManageExpense = function ManageExpense(_ref) {\n  var _route$params;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var expenseCtx = useContext(ExpensesContext);\n  var editedExpenseId = (_route$params = route.params) == null ? void 0 : _route$params.expenseId;\n  var isEditing = !!editedExpenseId;\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: isEditing ? \"Edit Expense\" : \"Add Expense\"\n    });\n  }, [navigation, isEditing]);\n\n  function deleteExpenseHandler() {\n    expenseCtx.deleteExpense(editedExpenseId);\n    navigation.goBack();\n  }\n\n  function CancelHandler() {\n    navigation.goBack();\n  }\n\n  function confirmHandler() {\n    if (isEditing) {\n      expenseCtx.updateExpense();\n    }\n\n    navigation.goBack();\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.buttons,\n      children: [_jsx(Button, {\n        style: styles.button,\n        mode: \"flat\",\n        onPress: CancelHandler,\n        children: \"Cancel\"\n      }), _jsx(Button, {\n        style: styles.button,\n        onPress: confirmHandler,\n        children: isEditing ? \"Update\" : \"Add\"\n      })]\n    }), isEditing && _jsx(View, {\n      style: styles.deleteContainer,\n      children: _jsx(IconButton, {\n        icon: \"trash\",\n        color: GlobalStyles.colors.error500,\n        size: 36,\n        onPress: deleteExpenseHandler\n      })\n    })]\n  });\n};\n\nexport default ManageExpense;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    backgroundColor: GlobalStyles.colors.primary800\n  },\n  buttons: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  button: {\n    minWidth: 120,\n    marginHorizontal: 8\n  },\n  deleteContainer: {\n    marginTop: 16,\n    paddingTop: 8,\n    borderTopWidth: 2,\n    borderTopColor: GlobalStyles.colors.primary200,\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["useContext","useLayoutEffect","Button","IconButton","GlobalStyles","ExpensesContext","ManageExpense","route","navigation","expenseCtx","editedExpenseId","params","expenseId","isEditing","setOptions","title","deleteExpenseHandler","deleteExpense","goBack","CancelHandler","confirmHandler","updateExpense","styles","container","buttons","button","deleteContainer","colors","error500","StyleSheet","create","flex","padding","backgroundColor","primary800","flexDirection","justifyContent","alignItems","minWidth","marginHorizontal","marginTop","paddingTop","borderTopWidth","borderTopColor","primary200"],"sources":["/home/harrytimbog/code/Harrytimbog/react-native/expense-tracker-mobile-app/screens/ManageExpense.js"],"sourcesContent":["import { useContext, useLayoutEffect } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport Button from \"../components/UI/Button\";\nimport IconButton from \"../components/UI/IconButton\";\nimport { GlobalStyles } from \"../constants/styles\";\nimport { ExpensesContext } from \"../store/expenses-context\";\n\nconst ManageExpense = ({ route, navigation }) => {\n  const expenseCtx = useContext(ExpensesContext);\n  const editedExpenseId = route.params?.expenseId;\n\n  const isEditing = !!editedExpenseId; // Javascrpt trick to convert a value to a boolean (falsy value to false, truthy value to true)\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      title: isEditing ? \"Edit Expense\" : \"Add Expense\",\n    });\n  }, [navigation, isEditing]);\n\n  function deleteExpenseHandler() {\n    expenseCtx.deleteExpense(editedExpenseId);\n    navigation.goBack();\n  }\n\n  function CancelHandler() {\n    navigation.goBack();\n  }\n\n  function confirmHandler() {\n    if (isEditing) {\n      expenseCtx.updateExpense();\n    }\n    navigation.goBack();\n  }\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.buttons}>\n        <Button style={styles.button} mode=\"flat\" onPress={CancelHandler}>\n          Cancel\n        </Button>\n        <Button style={styles.button} onPress={confirmHandler}>\n          {isEditing ? \"Update\" : \"Add\"}\n        </Button>\n      </View>\n      {isEditing && (\n        <View style={styles.deleteContainer}>\n          <IconButton\n            icon=\"trash\"\n            color={GlobalStyles.colors.error500}\n            size={36}\n            onPress={deleteExpenseHandler}\n          />\n        </View>\n      )}\n    </View>\n  );\n};\n\nexport default ManageExpense;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    backgroundColor: GlobalStyles.colors.primary800,\n  },\n  buttons: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  button: {\n    minWidth: 120,\n    marginHorizontal: 8,\n  },\n  deleteContainer: {\n    marginTop: 16,\n    paddingTop: 8,\n    borderTopWidth: 2,\n    borderTopColor: GlobalStyles.colors.primary200,\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,eAArB,QAA4C,OAA5C;;;AAEA,OAAOC,MAAP;AACA,OAAOC,UAAP;AACA,SAASC,YAAT;AACA,SAASC,eAAT;;;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAA2B;EAAA;;EAAA,IAAxBC,KAAwB,QAAxBA,KAAwB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;EAC/C,IAAMC,UAAU,GAAGT,UAAU,CAACK,eAAD,CAA7B;EACA,IAAMK,eAAe,oBAAGH,KAAK,CAACI,MAAT,qBAAG,cAAcC,SAAtC;EAEA,IAAMC,SAAS,GAAG,CAAC,CAACH,eAApB;EAEAT,eAAe,CAAC,YAAM;IACpBO,UAAU,CAACM,UAAX,CAAsB;MACpBC,KAAK,EAAEF,SAAS,GAAG,cAAH,GAAoB;IADhB,CAAtB;EAGD,CAJc,EAIZ,CAACL,UAAD,EAAaK,SAAb,CAJY,CAAf;;EAMA,SAASG,oBAAT,GAAgC;IAC9BP,UAAU,CAACQ,aAAX,CAAyBP,eAAzB;IACAF,UAAU,CAACU,MAAX;EACD;;EAED,SAASC,aAAT,GAAyB;IACvBX,UAAU,CAACU,MAAX;EACD;;EAED,SAASE,cAAT,GAA0B;IACxB,IAAIP,SAAJ,EAAe;MACbJ,UAAU,CAACY,aAAX;IACD;;IACDb,UAAU,CAACU,MAAX;EACD;;EAED,OACE,MAAC,IAAD;IAAM,KAAK,EAAEI,MAAM,CAACC,SAApB;IAAA,WACE,MAAC,IAAD;MAAM,KAAK,EAAED,MAAM,CAACE,OAApB;MAAA,WACE,KAAC,MAAD;QAAQ,KAAK,EAAEF,MAAM,CAACG,MAAtB;QAA8B,IAAI,EAAC,MAAnC;QAA0C,OAAO,EAAEN,aAAnD;QAAA;MAAA,EADF,EAIE,KAAC,MAAD;QAAQ,KAAK,EAAEG,MAAM,CAACG,MAAtB;QAA8B,OAAO,EAAEL,cAAvC;QAAA,UACGP,SAAS,GAAG,QAAH,GAAc;MAD1B,EAJF;IAAA,EADF,EASGA,SAAS,IACR,KAAC,IAAD;MAAM,KAAK,EAAES,MAAM,CAACI,eAApB;MAAA,UACE,KAAC,UAAD;QACE,IAAI,EAAC,OADP;QAEE,KAAK,EAAEtB,YAAY,CAACuB,MAAb,CAAoBC,QAF7B;QAGE,IAAI,EAAE,EAHR;QAIE,OAAO,EAAEZ;MAJX;IADF,EAVJ;EAAA,EADF;AAsBD,CAlDD;;AAoDA,eAAeV,aAAf;AAEA,IAAMgB,MAAM,GAAGO,UAAU,CAACC,MAAX,CAAkB;EAC/BP,SAAS,EAAE;IACTQ,IAAI,EAAE,CADG;IAETC,OAAO,EAAE,EAFA;IAGTC,eAAe,EAAE7B,YAAY,CAACuB,MAAb,CAAoBO;EAH5B,CADoB;EAM/BV,OAAO,EAAE;IACPW,aAAa,EAAE,KADR;IAEPC,cAAc,EAAE,QAFT;IAGPC,UAAU,EAAE;EAHL,CANsB;EAW/BZ,MAAM,EAAE;IACNa,QAAQ,EAAE,GADJ;IAENC,gBAAgB,EAAE;EAFZ,CAXuB;EAe/Bb,eAAe,EAAE;IACfc,SAAS,EAAE,EADI;IAEfC,UAAU,EAAE,CAFG;IAGfC,cAAc,EAAE,CAHD;IAIfC,cAAc,EAAEvC,YAAY,CAACuB,MAAb,CAAoBiB,UAJrB;IAKfP,UAAU,EAAE;EALG;AAfc,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}